class KintypType9Anime extends KinTypBase{get main_color(){return this.getAttribute("main_color")||"#ffffff"}get anim_in(){return this.getAttribute("anim_in")||"horizontal_from_left"}get anim_out(){return this.getAttribute("anim_out")||"wind_from_left"}get dir_out(){return this.getAttribute("dir_out")||"left"}get glitch(){return this.getAttribute("glitch")||"yes"}get cols(){return this.getAttribute("cols")||"10"}get rows(){return this.getAttribute("rows")||"2"}static get observedAttributes(){var a=super.observedAttributes;return a.push("main_color","anim_in","anim_out","dir_out","glitch","cols","rows"),a}attributeChangedCallback(a,b,c){if(super.attributeChangedCallback(a,b,c),("anim_in"===a||"anim_out"===a||"dir_out"===a)&&null!=b)this.animation.pause(),this.animation.seek(this.timeIn+this.timeStay+.99*this.timeOut),this.runAnim(),this.style.visibility="visible",this.animation.play();else if("main_color"===a&&null!=b)document.getElementById("left_border_f9_e"+this.id).style.borderLeftColor=c;else if(("cols"===a||"rows"===a)&&null!=b){var d=document.getElementById("parts_f9_e"+this.id);d.innerHTML="",this.animation.pause(),this.animation.seek(this.timeIn+this.timeStay+.99*this.timeOut),this.runAnim(),this.style.visibility="visible",this.animation.play()}}shuffleArray(a){for(var b=a.length-1;0<b;b--){var c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c],a[c]=d}}constructor(){super();var a;this.w=0,this.h=0;var b="",c="";if(0<this.effectTexts.length){var d=this.getNode(this.effectTexts[0]);a=d.getAttribute("data-id"),a=a?" data-id=\""+a+"\"":"",d.classList.remove("kintyp"),b=d.className,c=d.innerHTML,this.removeChild(d)}var e=document.createElement("template");e.innerHTML=`
    `+this.back_panel+`
    <div id="sample_f9_e`+this.id+`" style="display: inline-block">
      <div class="`+b+`" style="white-space:nowrap; display: inline-block;`+d.style.cssText+`"`+a+`>`+c+`</div>
    </div>
    <div id="parts_f9_e`+this.id+`" style="position: absolute; top: 0px; left: 0px; visibility: visible"></div>
    <div id="left_border_f9_e`+this.id+`" class="bl_1_0" style="border-left-style: solid; border-left-color: `+this.main_color+`; width: 100%; height: 0%; position: absolute; top: 0px"></div>`,this.finishConstruction(e)}handleResize(){this.setSizes();var a=document.getElementById("sample_f9_e"+this.id);this.sw=a.getBoundingClientRect().width,this.sh=a.getBoundingClientRect().height,this.style.width=this.sw+"px",this.style.height=this.sh+"px";var b=Math.ceil(this.sw/this.cols),c=Math.ceil(this.sh/this.rows),d=document.getElementById("parts_f9_e"+this.id);if(""==d.innerHTML){this.w=b,this.h=c,this.targets=[],this.targets_random=[],this.targets_some_random=[];for(var e=0;e<this.cols;e++)for(var f,g=0;g<this.rows;g++){f=document.createElement("div"),f.innerHTML=a.innerHTML,f.style.position="absolute",f.style.width=b+"px",f.style.height=c+"px",f.style.left=e*b+"px",f.style.top=g*c+"px",f.style.opacity=0,f.setAttribute("id","p_f9_e"+this.id+"_"+g+"_"+e),this.targets.push("#p_f9_e"+this.id+"_"+g+"_"+e),this.targets_random.push("#p_f9_e"+this.id+"_"+g+"_"+e),f.style.overflow="hidden";var h=f.children[0];h.style.position="absolute",h.style.left=-e*b+"px",h.style.top=-g*c+"px",d=document.getElementById("parts_f9_e"+this.id),d.appendChild(f)}this.shuffleArray(this.targets_random),a.style.visibility="hidden",this.style.overflow="visible"}else if(this.w!==b||this.h!==c){this.w=b,this.h=c;for(var e=0;e<this.cols;e++)for(var f,g=0;g<this.rows;g++){f=document.getElementById("p_f9_e"+this.id+"_"+g+"_"+e),f.style.width=b+"px",f.style.height=c+"px",f.style.left=e*b+"px",f.style.top=g*c+"px";var h=f.children[0];h.style.left=-e*b+"px",h.style.top=-g*c+"px"}}this.updateParent(this.style.height)}runAnim(){this.handleResize(),this.resetAnimObject(),this.createAnimObject();var a={},b={},c=Math.floor(11/12*this.timeIn/(this.cols*this.rows+3)),d=4*c,e=Math.floor(11/12*this.timeOut/(this.cols*this.rows+3)),f=4*e;this.targets_some_random=[];for(var g=0;g<this.targets_random.length/4;g++)this.targets_some_random[g]=this.targets_random[g];if("horizontal_from_left"==this.anim_in||"horizontal_from_right"==this.anim_in){var h=this.targets,j="first",k=1;"horizontal_from_right"==this.anim_in&&(j="last",k=-1),a={targets:h,duration:d,easing:"easeOutSine",scaleY:[0,1],scaleX:[10,1],translateX:[anime.stagger([k*this.sw/10,-k*this.sw/10]),"0px"],delay:anime.stagger(c,{from:j})}}else if("vertical_from_left"==this.anim_in||"vertical_from_right"==this.anim_in){var h=this.targets,j="first";"vertical_from_right"==this.anim_in&&(j="last"),a={targets:h,duration:d,easing:"easeOutSine",scaleX:[0,1],scaleY:[10,1],translateX:[anime.stagger([this.sw/10,-this.sw/10]),"0px"],delay:anime.stagger(c,{from:j})}}else if("reveal"==this.anim_in){var h=this.targets_random,k=1;a={targets:h,duration:d,easing:"easeOutSine",scaleY:[0,1],scaleX:[0,1],opacity:[1,1],translateX:[anime.stagger([k*this.sw/10,-k*this.sw/10]),"0px"],delay:anime.stagger(c)}}if("wind_from_left"==this.anim_out||"wind_from_right"==this.anim_out){var l=this.targets,m="first";"right"==this.dir_out&&(m="last");var n=1;"wind_from_right"==this.anim_out&&(n=-1),b={targets:l,duration:f,easing:"easeInSine",scaleY:[1,0],scaleX:[1,2],translateX:["0px",n*this.sw/10+"px"],delay:anime.stagger(e,{from:m})}}else if("hide"==this.anim_out){var l=this.targets,m="first";"right"==this.dir_out&&(m="last"),b={targets:l,duration:f,easing:"easeOutSine",scaleY:[1,0],scaleX:[1,5],opacity:[1,0],delay:anime.stagger(e,{from:m})}}if(anime.set(h,{translateX:"0px",translateY:"0px",opacity:1,visibility:"visible",scaleY:0,scaleX:0}),this.animation.add({targets:"#left_border_f9_e"+this.id,height:["0%","100%"],duration:this.timeIn/6,easing:"easeOutSine"}).add(a,"-="+this.timeIn/12).add({targets:"#kintyp_bgr_"+this.id,opacity:[0,1],easing:"linear",duration:this.timeIn},0).add({duration:1,complete:this.handleAnimInEnd.bind(this)}),"yes"===this.hide){this.animation.add({duration:this.timeStay,complete:this.handleAnimStayEnd.bind(this)});var o=0;"yes"===this.glitch&&(o=75,this.animation.add({targets:this.targets_some_random,scaleX:[1,5,1],scaleY:[1,.1,1],duration:o,easing:"linear"})),this.animation.add({targets:"#left_border_f9_e"+this.id,height:["100%","0%"],top:["0%","100%"],duration:this.timeOut/6,easing:"easeInSine"},"-="+o).add(b,"-="+this.timeOut/12).add({duration:this.wait,complete:this.handleAllAnimEnd.bind(this)}).add({targets:"#kintyp_bgr_"+this.id,opacity:[1,0],easing:"linear",duration:this.timeOut},"-="+this.timeOut).pause()}else this.animation.add({duration:this.wait,complete:this.handleAllAnimEnd.bind(this)}).pause()}}customElements.define("kintyp-type9-anime",KintypType9Anime);